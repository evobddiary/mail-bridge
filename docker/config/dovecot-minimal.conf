# Minimal Dovecot Configuration
protocols = imap lmtp
listen = *

log_path = /logs/dovecot.log
info_log_path = /logs/dovecot-info.log

# Mail location - compatible with all versions
mail_location = maildir:/maildata/%u/Maildir

# Authentication
passdb {
  driver = static
  args = user=%u password=unused
}

userdb {
  driver = static
  args = uid=1000 gid=1000 home=/maildata/%u
}

# IMAP protocol
protocol imap {
}

# LMTP for mail delivery
service lmtp {
  unix_listener /var/run/dovecot/lmtp {
    mode = 0600
    user = root
  }
}

# Auth settings
disable_plaintext_auth = no
auth_mechanisms = plain login
