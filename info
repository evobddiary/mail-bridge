–ò—Å–∫–∞–º –¥–∞ —Å–∏ –Ω–∞—Å—Ç—Ä–æ—è —Å–∏—Å—Ç–µ–º–∞ POP3 to IMAP, –∫–æ—è—Ç–æ –º–æ–∂–µ –¥–∞ –ø—Ä–∞–≤–∏ –∏ –Ω—è–∫–∞–∫–≤–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–Ω–µ –Ω–∞ –ø–∏—Å–º–∞—Ç–∞. –ò–º–∞–º –¥–æ–º–∞—à–µ–Ω UNRAID server. 
–ú–æ–∂–µ –ª–∏ –¥–∞ –º–∏ –ø–æ–º–æ–≥–Ω–µ—à —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ—Ç–æ?
–î–∞, –º–æ–≥–∞ üôÇ –ò UNRAID –µ –º–Ω–æ–≥–æ –¥–æ–±—ä—Ä –∏–∑–±–æ—Ä –∑–∞ —Ç–∞–∫–∞–≤–∞ –∑–∞–¥–∞—á–∞.
–©–µ —Ç–∏ –¥–∞–º —Ä–∞–±–æ—Ç–µ—â–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ + –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —Å—Ç—ä–ø–∫–∏, –∞ –Ω–∞–∫—Ä–∞—è —â–µ –∑–∞–¥–∞–º –Ω—è–∫–æ–ª–∫–æ —É—Ç–æ—á–Ω—è–≤–∞—â–∏ –≤—ä–ø—Ä–æ—Å–∞, –∑–∞ –¥–∞ —è –¥–æ–Ω–∞–≥–ª–∞—Å–∏–º —Ç–æ—á–Ω–æ –∑–∞ —Ç–≤–æ—è —Å–ª—É—á–∞–π.

1. –ö–∞–∫–≤–æ —Ç–æ—á–Ω–æ –∏—Å–∫–∞–º–µ –¥–∞ –ø–æ—Å—Ç–∏–≥–Ω–µ–º (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
–¶–µ–ª:
–ß–µ—Ç–µ–Ω–µ –Ω–∞ –ø–æ—â–∞ –æ—Ç POP3
–ö–∞—á–≤–∞–Ω–µ –∫—ä–º IMAP
–ú–µ–∂–¥–∏–Ω–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø–∏—Å–º–∞—Ç–∞ (—Ñ–∏–ª—Ç—Ä–∏, –ø—Ä–µ–Ω–∞—Å–æ—á–≤–∞–Ω–µ, –º–∞—Ä–∫–∏—Ä–∞–Ω–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏)
–î–∞ –≤—ä—Ä–≤–∏ —Å—Ç–∞–±–∏–ª–Ω–æ –∫–∞—Ç–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ UNRAID
–ù–∞–π-—á–∏—Å—Ç–æ—Ç–æ —Ä–µ—à–µ–Ω–∏–µ:
POP3 ‚Üí fetchmail ‚Üí (mail processing) ‚Üí IMAP
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
fetchmail ‚Äì –¥—ä—Ä–ø–∞ –ø–∏—Å–º–∞—Ç–∞ –æ—Ç POP3
Mail processing layer (–µ–¥–Ω–æ –∏–ª–∏ –ø–æ–≤–µ—á–µ):
procmail (–∫–ª–∞—Å–∏—á–µ—Å–∫–∏)
sieve (–ø–æ-–º–æ–¥–µ—Ä–µ–Ω)
custom Python —Å–∫—Ä–∏–ø—Ç
IMAP —Å—ä—Ä–≤—ä—Ä:
dovecot (–ª–æ–∫–∞–ª–µ–Ω)
–∏–ª–∏ –∫–∞—á–≤–∞–Ω–µ –∫—ä–º –≤—ä–Ω—à–µ–Ω IMAP (Gmail, Outlook, –¥—Ä—É–≥ —Å—ä—Ä–≤—ä—Ä)
2. –ü—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞ UNRAID (Docker)
–í–∞—Ä–∏–∞–Ω—Ç A ‚Äì –ù–∞–π-–≥—ä–≤–∫–∞–≤ (–ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–º)
Custom Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Å—ä–¥—ä—Ä–∂–∞—â:
fetchmail
dovecot (IMAP)
Python (–∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞)
‚û°Ô∏è –ü–ª—é—Å: –ø—ä–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª
‚û°Ô∏è –ú–∏–Ω—É—Å: –º–∞–ª–∫–æ –ø–æ–≤–µ—á–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ Docker –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (UNRAID-friendly)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ (–Ω–∞ —Ö–æ—Å—Ç–∞):
/appdata/mail-bridge/
‚îú‚îÄ‚îÄ fetchmail/
‚îÇ   ‚îî‚îÄ‚îÄ fetchmailrc
‚îú‚îÄ‚îÄ dovecot/
‚îÇ   ‚îî‚îÄ‚îÄ dovecot.conf
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ process_mail.py
‚îî‚îÄ‚îÄ maildata/
    ‚îî‚îÄ‚îÄ vmail/
4. fetchmail ‚Äì POP3 ‚Üí –ª–æ–∫–∞–ª–µ–Ω –¥–æ—Å—Ç–∞–≤—á–∏–∫
–ü—Ä–∏–º–µ—Ä fetchmailrc:
set daemon 300
set syslog
set no bouncemail

poll pop.example.com protocol POP3
  user "user@example.com"
  password "PASSWORD"
  ssl
  keep
  mda "/usr/local/bin/process_mail.py"
üìå –¢—É–∫ MDA-—Ç–æ –µ –Ω–∞—à–∏—è—Ç Python —Å–∫—Ä–∏–ø—Ç
5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø–∏—Å–º–∞—Ç–∞ (Python –ø—Ä–∏–º–µ—Ä)
process_mail.py
#!/usr/bin/env python3
import sys
import email
import subprocess

raw = sys.stdin.read()
msg = email.message_from_string(raw)

# –ü—Ä–∏–º–µ—Ä–Ω–∞ –ª–æ–≥–∏–∫–∞
subject = msg.get("Subject", "")
if "INVOICE" in subject.upper():
    msg["X-Processed"] = "Invoice"

# –ü–æ–¥–∞–≤–∞–º–µ –∫—ä–º dovecot (LMTP)
p = subprocess.Popen(
    ["dovecot-lda", "-d", "user@local"],
    stdin=subprocess.PIPE
)
p.communicate(msg.as_bytes())
‚û°Ô∏è –¢—É–∫ –º–æ–∂–µ—à –¥–∞:
–¥–æ–±–∞–≤—è—à —Ö–µ–¥—ä—Ä–∏
—Å–º–µ–Ω—è—à subject
—Å–æ—Ä—Ç–∏—Ä–∞—à –ø–æ –ø–∞–ø–∫–∏
–∫–∞—á–≤–∞—à attachments –≤ NAS
—Ç—Ä–∏–≥—ä—Ä–≤–∞—à webhook
6. Dovecot ‚Äì –ª–æ–∫–∞–ª–µ–Ω IMAP
–ú–∏–Ω–∏–º–∞–ª–Ω–∞ –∏–¥–µ—è:
Maildir —Ñ–æ—Ä–º–∞—Ç
–ï–¥–∏–Ω –∏–ª–∏ –ø–æ–≤–µ—á–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
Volume –º–∞–ø–Ω–∞—Ç –∫—ä–º /mnt/user/appdata/mail-bridge/maildata
–°–ª–µ–¥ —Ç–æ–≤–∞:
–°–≤—ä—Ä–∑–≤–∞—à —Å–µ —Å IMAP –∫–ª–∏–µ–Ω—Ç
–ò–ª–∏ sync-–≤–∞—à –∫—ä–º –≤—ä–Ω—à–µ–Ω IMAP
7. –ê–∫–æ –∏—Å–∫–∞—à –¥–∏—Ä–µ–∫—Ç–Ω–æ –∫—ä–º –≤—ä–Ω—à–µ–Ω IMAP (–±–µ–∑ –ª–æ–∫–∞–ª–µ–Ω)
–ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:
fetchmail + imap-upload
–∏–ª–∏ getmail + filters
–ù–æ:
–ø–æ-—Ç—Ä—É–¥–Ω–æ –∑–∞ custom –ª–æ–≥–∏–∫–∞
–ø–æ-–º–∞–ª–∫–æ –∫–æ–Ω—Ç—Ä–æ–ª
8. UNRAID –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —Å—ä–≤–µ—Ç–∏
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí Bridge network
–ß–∞—Å–æ–≤–Ω–∏–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞–Ω (–≤–∞–∂–Ω–æ –∑–∞ IMAP)
Secrets ‚Üí –Ω–µ —Å–ª–∞–≥–∞–π –ø–∞—Ä–æ–ª–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ fetchmailrc (env vars)
Backup –Ω–∞ maildata/
9. –ö–∞–∫–≤–æ –æ—â–µ –º–æ–∂–µ –¥–∞ –¥–æ–±–∞–≤–∏–º
SpamAssassin
DKIM –ø—Ä–æ–≤–µ—Ä–∫–∞
OCR –Ω–∞ –ø—Ä–∏–∫–∞—á–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ
Auto-reply
Web UI (Roundcube)
10. –£—Ç–æ—á–Ω—è–≤–∞—â–∏ –≤—ä–ø—Ä–æ—Å–∏ (–≤–∞–∂–Ω–∏)
–û—Ç–≥–æ–≤–æ—Ä–∏ –º–∏ –Ω–∞–∫—Ä–∞—Ç–∫–æ:
POP3 ‚Äì –µ–¥–∏–Ω –∞–∫–∞—É–Ω—Ç –∏–ª–∏ –º–Ω–æ–≥–æ?
IMAP ‚Äì –ª–æ–∫–∞–ª–µ–Ω –∏–ª–∏ –≤—ä–Ω—à–µ–Ω (Gmail / Outlook / –¥—Ä—É–≥)?
–û–±—Ä–∞–±–æ—Ç–∫–∞—Ç–∞:
—Å–∞–º–æ —Ñ–∏–ª—Ç—Ä–∏?
–∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ?
–û—á–∞–∫–≤–∞–Ω –æ–±–µ–º:
~10 –ø–∏—Å–º–∞/–¥–µ–Ω
~1000+/–¥–µ–Ω
–ò—Å–∫–∞—à –ª–∏ Docker template –∑–∞ UNRAID –∏–ª–∏ —Å–∏ –æ–∫ –¥–∞ –ø–∏—à–µ–º Dockerfile?
–°–ª–µ–¥ —Ç–æ–≤–∞ –º–æ–≥–∞:
–¥–∞ —Ç–∏ –¥–∞–º –≥–æ—Ç–æ–≤ Dockerfile
–∏–ª–∏ step-by-step UNRAID GUI setup
–∏–ª–∏ production-grade setup —Å –ª–æ–≥–æ–≤–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
1. –ü–æ —Å–∫–æ—Ä–æ –Ω—è–∫–æ–ª–∫–æ –∞–∫–∞—É–Ω—Ç–∞
2. –õ–æ–∫–∞–ª–µ–Ω —Å—ä—Ä–≤—ä—Ä
3. –ú–æ–∂–µ –±–∏ –ø–æ–¥—Ä–µ–∂–¥–∞–Ω–∏—è –ø–æ –ø–∞–ø–∫–∏. –û—Å–≤–µ–Ω —Ç–æ–≤–∞ —â–µ —Å–∏ –ø–∏—à–∞ —Å–æ–±—Å—Ç–≤–µ–Ω —Å–æ—Ñ—Ç—É–µ—Ä –∑–∞ –∏–û–° –∏ –∏—Å–∫–∞–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —Å—ä–æ–±—â–µ–Ω–∏–µ –∞–∫–æ –ø—Ä–∏—Å—Ç–∏–≥–Ω–µ –¥–∞ —Å–µ –ø–∞—Ä–µ–Ω–µ –∏ –¥–∞ —Å–µ –∏–∑–ø—Ä–∞—Ç–∏ –ø—É—à–µ–∫ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.
4. 10-50 –ø–∏—Å–º–∞ –Ω–∞ –¥–µ–Ω
5. –¢—É–∫ –æ—á–∞–∫–≤–∞–º —Ç–∏ –¥–∞ –º–µ –ø–æ—Å—ä–≤–µ—Ç–≤–∞—à
–°—Ç—Ä–∞—Ö–æ—Ç–Ω–æ ‚Äî –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è—Ç–∞ —Ç–∏ —Å–∞ —è—Å–Ω–∏ –∏ –º–Ω–æ–≥–æ –¥–æ–±—Ä–µ –ø–∞—Å–≤–∞—Ç –Ω–∞ UNRAID + Docker. –©–µ —Ç–∏ –¥–∞–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –ø—Ä–µ–ø–æ—Ä—ä–∫–∞, –ø–æ—Å–ª–µ —Ç–æ—á–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∏ –Ω–∞–∫—Ä–∞—è —Å–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏.
‚úÖ –ü—Ä–µ–ø–æ—Ä—ä–∫–∞ (–Ω–∞–∫—Ä–∞—Ç–∫–æ)
–°—ä–≤–µ—Ç—ä—Ç –º–∏:
üëâ –µ–¥–∏–Ω custom Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞:
fetchmail (–º–Ω–æ–≥–æ POP3 –∞–∫–∞—É–Ω—Ç–∏)
dovecot (–ª–æ–∫–∞–ª–µ–Ω IMAP)
Python processing layer (—Ñ–∏–ª—Ç—Ä–∏ + push trigger)
–ü—Ä–∏—á–∏–Ω–∏:
–º–∞–ª—ä–∫ –æ–±–µ–º (10‚Äì50 –ø–∏—Å–º–∞/–¥–µ–Ω)
–∏—Å–∫–∞—à custom –ª–æ–≥–∏–∫–∞ + iOS push
–ø–æ-–ª–µ—Å–Ω–æ –¥–µ–±—ä–≥–≤–∞–Ω–µ
–ø–æ-–º–∞–ª–∫–æ UNRAID ‚Äú—à—É–º‚Äù –æ—Ç –º–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
UNRAID template ‚ûú –î–ê, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç —â–µ –µ —Ç–≤–æ–π.
üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (production-ready, –Ω–æ –ø—Ä–æ—Å—Ç–∞)
POP3 accounts (N)
        ‚îÇ
        ‚ñº
   fetchmail
        ‚îÇ
        ‚ñº
 Python Mail Processor
   ‚îú‚îÄ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ –ø–æ –ø–∞–ø–∫–∏
   ‚îú‚îÄ –º–∞—Ä–∫–∏—Ä–∞–Ω–µ
   ‚îî‚îÄ push trigger (HTTP)
        ‚îÇ
        ‚ñº
     dovecot (IMAP)
        ‚îÇ
        ‚ñº
   iOS app (IMAP + push API)
üìÅ –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (UNRAID)
/appdata/mail-bridge/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ fetchmailrc
‚îÇ   ‚îú‚îÄ‚îÄ dovecot.conf
‚îÇ   ‚îî‚îÄ‚îÄ accounts.yaml
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ process_mail.py
‚îÇ   ‚îî‚îÄ‚îÄ push_notify.py
‚îú‚îÄ‚îÄ maildata/
‚îÇ   ‚îî‚îÄ‚îÄ vmail/
‚îú‚îÄ‚îÄ logs/
‚îî‚îÄ‚îÄ Dockerfile
üì¨ –ú–ù–û–ì–û POP3 –∞–∫–∞—É–Ω—Ç–∏ (clean –Ω–∞—á–∏–Ω)
accounts.yaml
accounts:
  - name: personal
    pop_server: pop.mail1.com
    user: user1@mail.com
    password_env: POP1_PASS
    imap_user: user1

  - name: work
    pop_server: pop.mail2.com
    user: user2@mail.com
    password_env: POP2_PASS
    imap_user: user2
‚û°Ô∏è –Ω–µ —Å–ª–∞–≥–∞–º–µ –ø–∞—Ä–æ–ª–∏ –≤ plaintext
‚û°Ô∏è UNRAID ‚Üí Docker ‚Üí Extra Parameters ‚Üí Env vars
üì• fetchmail (multi-account)
fetchmailrc (–≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ)
set daemon 300
set no bouncemail
set syslog

poll pop.mail1.com protocol POP3
  user "user1@mail.com"
  password "$POP1_PASS"
  ssl
  keep
  mda "/scripts/process_mail.py user1"

poll pop.mail2.com protocol POP3
  user "user2@mail.com"
  password "$POP2_PASS"
  ssl
  keep
  mda "/scripts/process_mail.py user2"
üß† Mail processing (—Ç–≤–æ–µ—Ç–æ –∑–ª–∞—Ç–æ)
process_mail.py (–∏–¥–µ–µ–Ω –ø—Ä–∏–º–µ—Ä)
import sys, email, subprocess
from push_notify import notify

imap_user = sys.argv[1]
raw = sys.stdin.read()
msg = email.message_from_string(raw)

subject = msg.get("Subject", "").lower()
from_addr = msg.get("From", "").lower()

folder = "INBOX"

if "invoice" in subject:
    folder = "Invoices"

if "important@domain.com" in from_addr:
    folder = "Priority"
    notify(
        title="–í–∞–∂–Ω–æ –ø–∏—Å–º–æ",
        body=msg.get("Subject", "(–±–µ–∑ —Ç–µ–º–∞)")
    )

# deliver to dovecot
proc = subprocess.Popen(
    ["dovecot-lda", "-d", imap_user, "-m", folder],
    stdin=subprocess.PIPE
)
proc.communicate(msg.as_bytes())
üì≤ Push –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (iOS)
–ù–∞–π-—á–∏—Å—Ç–∏—è—Ç –º–æ–¥–µ–ª:
UNRAID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚ûú HTTP POST
—Ç–≤–æ–π backend / iOS push gateway
APNs ‚ûú iPhone
push_notify.py
import requests

def notify(title, body):
    requests.post(
        "https://your-push-endpoint/notify",
        json={
            "title": title,
            "body": body,
            "source": "mail-bridge"
        },
        timeout=3
    )
‚û°Ô∏è –¢–æ–≤–∞ –µ –∏–¥–µ–∞–ª–Ω–æ –∑–∞ —Ç–≤–æ–π iOS app
‚û°Ô∏è –ù—è–º–∞ –Ω—É–∂–¥–∞ IMAP IDLE hacks
üìÆ dovecot (–ª–æ–∫–∞–ª–µ–Ω IMAP)
Maildir
Users: user1, user2, ‚Ä¶
Volume: /maildata
–î–æ—Å—Ç—ä–ø:
–ª–æ–∫–∞–ª–Ω–æ
–∏–ª–∏ –ø—Ä–µ–∑ reverse proxy (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)
üê≥ Docker + UNRAID
–ó–∞—â–æ custom Dockerfile?
python + fetchmail + dovecot
—Ç–≤–æ–π –∫–æ–¥
–∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ versions
UNRAID Template:
Network: bridge
Volumes:
/config
/maildata
/logs
Env vars:
POP1_PASS
POP2_PASS
Restart: always
üîí –°–∏–≥—É—Ä–Ω–æ—Å—Ç (–≤–∞–∂–Ω–æ)
fetchmail ‚Üí SSL
dovecot ‚Üí IMAPS (993)
–Ω–µ –µ–∫—Å–ø–æ–Ω–∏—Ä–∞–π IMAP –Ω–∞–≤—ä–Ω –±–µ–∑ TLS
backup –Ω–∞ maildata/
üß≠ –°–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏ (–ø—Ä–µ–¥–ª–∞–≥–∞–º —Ä–µ–¥)
1Ô∏è‚É£ –î–∞ —Ç–∏ –¥–∞–º –≥–æ—Ç–æ–≤ Dockerfile + entrypoint
2Ô∏è‚É£ –ú–∏–Ω–∏–º–∞–ª–µ–Ω dovecot.conf
3Ô∏è‚É£ UNRAID template (copy/paste)
4Ô∏è‚É£ –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ logging + healthcheck
5Ô∏è‚É£ –ü–æ-–∫—ä—Å–Ω–æ: web UI –∏–ª–∏ monitoring
üëâ –ö–∞–∂–∏ –º–∏:

–∏—Å–∫–∞—à –ª–∏ –ø—ä—Ä–≤–æ Dockerfile-–∞, –∏–ª–∏
–∏—Å–∫–∞—à step-by-step UNRAID GUI setup
–ê–∑ –±–∏—Ö –∑–∞–ø–æ—á–Ω–∞–ª —Å Dockerfile + template, –Ω–æ —Ä–µ—à–µ–Ω–∏–µ—Ç–æ –µ —Ç–≤–æ–µ.
–û–±—è—Å–Ω–∏ –º–∏ –º–æ–ª—è —Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –Ω–∞ —Ü—è–ª–∞—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞. –ö–∞–∫ —Ç–æ—á–Ω–æ —â–µ —Å–µ —Å–ª—É—á–≤–∞—Ç –Ω–µ—â–∞—Ç–∞ —Å —Ç–æ–∑–∏ –¥–æ–∫–µ—Ä? –û—Ç –∫—ä–¥–µ —â–µ —Å–µ –≤–∑–µ–º–∞—Ç —Ç–µ–∑–∏ –≥–æ—Ç–æ–≤–∏ —Å–æ—Ñ—Ç—É–µ—Ä–∏? –ö–∞–∫ —â–µ –≥–æ —Å–ª–æ–∂–∞ –Ω–∞ –º–æ—è UNRAID? –ö–∞–∫ —â–µ –ø—Ä–æ—Ç–∏—á–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ—Ç–æ –∏ –¥–µ–±—ä–≥–≤–∞–Ω–µ—Ç–æ?
–ß—É–¥–µ—Å–µ–Ω –≤—ä–ø—Ä–æ—Å ‚Äî —Ç–æ–≤–∞ –µ —Ç–æ—á–Ω–æ –ø—Ä–∞–≤–∏–ª–Ω–æ—Ç–æ –º—è—Å—Ç–æ –¥–∞ –∏–∑—á–∏—Å—Ç–∏–º –≤—Å–∏—á–∫–æ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª–Ω–æ, –ø—Ä–µ–¥–∏ –¥–∞ –ø–∏—à–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –©–µ –æ–±—è—Å–Ω—è –±–µ–∑ –º–∞–≥–∏—è, —Å—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞, –∫–∞–∫–≤–æ —Å–µ —Å–ª—É—á–≤–∞, –∫–∞–∫ Docker + UNRAID —Ä–∞–±–æ—Ç—è—Ç, –∏ –∫–∞–∫ —Ç–∏ —Ä–µ–∞–ª–Ω–æ —â–µ –≥–æ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—à –∏ –¥–µ–±—ä–≥–≤–∞—à.
–©–µ –º–∏—Å–ª–∏–º –∑–∞ —Ç–æ–≤–∞ –∫–∞—Ç–æ –∑–∞ –µ–¥–Ω–∞ –º–∞—à–∏–Ω–∞ –≤ –∫—É—Ç–∏—è.

1. –ì–æ–ª—è–º–∞—Ç–∞ –∫–∞—Ä—Ç–∏–Ω–∞ (–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ)
–ü—Ä–µ–¥—Å—Ç–∞–≤–∏ —Å–∏ —Ç–æ–∑–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ç–æ –º–∞–ª—ä–∫ –ø–æ—â–µ–Ω—Å–∫–∏ —Å—ä—Ä–≤—ä—Ä –≤ –∫—É—Ç–∏—è, –∫–æ–π—Ç–æ:
‚è¨ –≤–∑–∏–º–∞ –ø–∏—Å–º–∞ –æ—Ç –≤—ä–Ω—à–Ω–∏ POP3 —Å—ä—Ä–≤—ä—Ä–∏
üß† –º–∏—Å–ª–∏ –≤—ä—Ä—Ö—É —Ç—è—Ö (—Å–æ—Ä—Ç–∏—Ä–∞, –ø—Ä–æ–≤–µ—Ä—è–≤–∞, —Ç—Ä–∏–≥—ä—Ä–≤–∞ push)
üì¨ –≥–∏ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –ª–æ–∫–∞–ª–Ω–æ –∫–∞—Ç–æ IMAP –ø–æ—â–∞
üì± –∏–∑–ø—Ä–∞—â–∞ —Å–∏–≥–Ω–∞–ª –∫—ä–º —Ç–≤–æ—è iOS app –ø—Ä–∏ –Ω—É–∂–¥–∞
UNRAID –µ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Å—Ç—ä—Ç, –∫–æ–π—Ç–æ:
—Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
–ø–∞–∑–∏ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ
—Ç–∏ –¥–∞–≤–∞ UI –∑–∞ –ª–æ–≥–æ–≤–µ –∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∏
2. –ö–∞–∫–≤–æ –µ Docker —Ç—É–∫ (–º–Ω–æ–≥–æ –≤–∞–∂–Ω–æ)
Docker ‚â† VM
Docker = –ø—Ä–æ—Ü–µ—Å —Å—ä—Å —Å–æ–±—Å—Ç–≤–µ–Ω filesystem
–¢–≤–æ—è—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

–Ω–µ –∑–Ω–∞–µ –Ω–∏—â–æ –∑–∞ UNRAID
–Ω—è–º–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –Ω–∏—â–æ, –æ—Å–≤–µ–Ω —Ç–æ–≤–∞, –∫–æ–µ—Ç–æ –º—É –¥–∞–¥–µ—à
–º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∏–∑—Ç—Ä–∏—Ç –∏ –ø—É—Å–Ω–∞—Ç –Ω–∞–Ω–æ–≤–æ –±–µ–∑ –∑–∞–≥—É–±–∞ –Ω–∞ –ø–æ—â–∞
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç —Å—ä–¥—ä—Ä–∂–∞:
Linux (–º–∏–Ω–∏–º–∞–ª–µ–Ω)
fetchmail
dovecot
python
—Ç–≤–æ—è –∫–æ–¥
UNRAID:
–º–∞–ø–≤–∞ –ø–∞–ø–∫–∏ –æ—Ç –¥–∏—Å–∫–∞ —Å–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
–ø–æ–¥–∞–≤–∞ –ø–∞—Ä–æ–ª–∏ –∫–∞—Ç–æ env vars
—Å—Ç–∞—Ä—Ç–∏—Ä–∞/—Å–ø–∏—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. –û—Ç –∫—ä–¥–µ –∏–¥–≤–∞—Ç ‚Äû–≥–æ—Ç–æ–≤–∏—Ç–µ —Å–æ—Ñ—Ç—É–µ—Ä–∏‚Äú
–í—Å–∏—á–∫–æ –µ open source, —Å—Ç–∞–±–∏–ª–Ω–æ –∏ —à–∏—Ä–æ–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–æ:
–°–æ—Ñ—Ç—É–µ—Ä	–û—Ç–∫—ä–¥–µ	–ó–∞ –∫–∞–∫–≤–æ
fetchmail	Debian/Alpine repo	POP3 client
dovecot	Debian/Alpine repo	IMAP server
Python	Base image	–ª–æ–≥–∏–∫–∞
requests	pip	push HTTP
–¢–µ –ù–ï —Å–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—Ç –≤ UNRAID, –∞ –≤ Docker image-–∞.
4. –ö–∞–∫ —Å–µ ‚Äû—Å–≥–ª–æ–±—è–≤–∞‚Äú Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç
4.1 Dockerfile (–∫–∞—Ç–æ —Ä–µ—Ü–µ–ø—Ç–∞)
FROM debian:stable-slim

RUN apt update && apt install -y \
    fetchmail \
    dovecot-imapd \
    dovecot-lmtpd \
    python3 \
    python3-pip \
    && pip3 install requests \
    && rm -rf /var/lib/apt/lists/*
‚û°Ô∏è –¢–æ–≤–∞ –∫–∞–∑–≤–∞:
‚Äû–î–∞–π –º–∏ Linux, —Å–ª–æ–∂–∏ —Ç–µ–∑–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ –≤—ä—Ç—Ä–µ‚Äú
–¢–æ–≤–∞ —Å–µ –±–∏–ª–¥–≤–∞ –≤–µ–¥–Ω—ä–∂, –ø–æ—Å–ª–µ –≥–æ –∏–∑–ø–æ–ª–∑–≤–∞—à.
4.2 Entry point (–∫–∞–∫ —Å—Ç–∞—Ä—Ç–∏—Ä–∞)
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç —Å—Ç–∞—Ä—Ç–∏—Ä–∞:
dovecot
fetchmail (–∫–∞—Ç–æ daemon)
—á–∞–∫–∞
–í—Å–∏—á–∫–æ —Ç–æ–≤–∞ –µ –≤ –µ–¥–∏–Ω entrypoint.sh.
5. –ö–∞–∫ –ø—Ä–æ—Ç–∏—á–∞ —Ä–µ–∞–ª–Ω–∏—è—Ç –ø–æ—Ç–æ–∫ –Ω–∞ –ø–∏—Å–º–æ
üì® 1. fetchmail –ø—Ä–æ–≤–µ—Ä—è–≤–∞ POP3
–Ω–∞ –≤—Å–µ–∫–∏ 5 –º–∏–Ω—É—Ç–∏
–∑–∞ –≤—Å–µ–∫–∏ –∞–∫–∞—É–Ω—Ç
–¥—ä—Ä–ø–∞ –Ω–æ–≤–∏—Ç–µ –ø–∏—Å–º–∞
üß† 2. fetchmail –ø–æ–¥–∞–≤–∞ –ø–∏—Å–º–æ—Ç–æ –Ω–∞ Python
POP3
 ‚Üì
fetchmail
 ‚Üì (stdin)
process_mail.py
Python:
—á–µ—Ç–µ –ø–∏—Å–º–æ—Ç–æ
—Ä–µ—à–∞–≤–∞:
–∫–æ—è –ø–∞–ø–∫–∞
–¥–∞–ª–∏ –¥–∞ —Ç—Ä–∏–≥—ä—Ä–Ω–µ push
–ø—Ä–∞—â–∞ –ø–∏—Å–º–æ—Ç–æ –∫—ä–º dovecot
üì¨ 3. dovecot –∑–∞–ø–∏—Å–≤–∞ –ø–∏—Å–º–æ—Ç–æ
–≤ Maildir
–≤ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ –ø–∞–ø–∫–∞
–Ω–∞ –¥–∏—Å–∫–∞ –Ω–∞ UNRAID (volume)
üì± 4. push –∫—ä–º iOS
Python ‚ûú HTTP POST
—Ç–≤–æ–π backend ‚ûú APNs ‚ûú iPhone
6. –ö–∞–∫ –≥–æ —Å–ª–∞–≥–∞—à –Ω–∞ UNRAID (—Ä–µ–∞–ª–Ω–æ)
–°—Ç—ä–ø–∫–∞ 1: Docker –≤–∫–ª—é—á–µ–Ω
UNRAID ‚Üí Settings ‚Üí Docker ‚Üí Enable
–°—Ç—ä–ø–∫–∞ 2: Appdata –ø–∞–ø–∫–∞
/mnt/user/appdata/mail-bridge/
–¢–æ–≤–∞ –æ—Ü–µ–ª—è–≤–∞, –¥–æ—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç –¥–∞ —Å–µ –∏–∑—Ç—Ä–∏–µ.
–°—Ç—ä–ø–∫–∞ 3: Docker template
–í UNRAID:
Add Container
Image: mail-bridge:latest
Volumes:
/config ‚Üí appdata/mail-bridge/config
/maildata ‚Üí appdata/mail-bridge/maildata
Env vars:
POP1_PASS
POP2_PASS
–°—Ç—ä–ø–∫–∞ 4: Start
UNRAID:
—Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
–ø–æ–∫–∞–∑–≤–∞ –ª–æ–≥–æ–≤–µ
—Å–ª–µ–¥–∏ –¥–∞–ª–∏ –ø–∞–¥–Ω–µ
7. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ ‚â† —Ä—ä—á–Ω–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è
‚ùå –Ω—è–º–∞:
ssh
apt install –Ω–∞ —Ä—ä–∫–∞
–ø–∏–ø–∞–Ω–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞
‚úÖ –∏–º–∞:
build image
–ø—É—Å–∫–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
–≤—Å–∏—á–∫–æ –µ –≤—ä—Ç—Ä–µ
8. –î–µ–±—ä–≥–≤–∞–Ω–µ (–º–Ω–æ–≥–æ –≤–∞–∂–Ω–æ)
8.1 –õ–æ–≥–æ–≤–µ
docker logs mail-bridge
–∏–ª–∏ –ø—Ä–µ–∑ UNRAID UI
8.2 –í–ª–∏–∑–∞–Ω–µ –≤—ä—Ç—Ä–µ
docker exec -it mail-bridge bash
–ú–æ–∂–µ—à –¥–∞:
–ø—É—Å–Ω–µ—à fetchmail –Ω–∞ —Ä—ä–∫–∞
—Ç–µ—Å—Ç–≤–∞—à Python —Å–∫—Ä–∏–ø—Ç–∞
–ø—Ä–æ–≤–µ—Ä–∏—à Maildir
8.3 Dry-run
fetchmail -v --nodetach
8.4 Python debug
print –≤ stdout ‚Üí –ª–æ–≥–æ–≤–µ
try/except + logging
9. –ö–∞–∫–≤–æ —Å–µ —Å–ª—É—á–≤–∞ –∞–∫–æ –Ω–µ—â–æ —Å–µ —Å—á—É–ø–∏
–°–ª—É—á–∞–π	–†–µ–∑—É–ª—Ç–∞—Ç
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç –ø–∞–¥–Ω–µ	UNRAID –≥–æ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞
–ò–∑—Ç—Ä–∏–µ—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞	–ü–æ—â–∞—Ç–∞ –æ—Å—Ç–∞–≤–∞
–°—á—É–ø–∏—à Python	fetchmail —á–∞–∫–∞
–°—á—É–ø–∏—à dovecot	–ø–∏—Å–º–∞—Ç–∞ –Ω–µ —Å–µ –¥–æ—Å—Ç–∞–≤—è—Ç
‚û°Ô∏è –ù—è–º–∞ –∑–∞–≥—É–±–∞, —Å–∞–º–æ –∑–∞–±–∞–≤—è–Ω–µ
10. –ú–µ–Ω—Ç–∞–ª–µ–Ω –º–æ–¥–µ–ª (–Ω–∞–π-–≤–∞–∂–Ω–æ—Ç–æ)
UNRAID –Ω–µ –∑–Ω–∞–µ –Ω–∏—â–æ –∑–∞ –ø–æ—â–∞—Ç–∞.
Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç –∑–Ω–∞–µ –≤—Å–∏—á–∫–æ.
UNRAID:
—Å—Ç–∞—Ä—Ç–∏—Ä–∞
—Å–ø–∏—Ä–∞
–ø–∞–∑–∏ —Ñ–∞–π–ª–æ–≤–µ
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ä—Ç:
–≤–∑–∏–º–∞ –ø–∏—Å–º–∞
–º–∏—Å–ª–∏
–ø–∞–∑–∏
–Ω–æ—Ç–∏—Ñ–∏—Ü–∏—Ä–∞
–ö–∞–∫–≤–æ –ø—Ä–µ–¥–ª–∞–≥–∞–º –Ω–∞—Ç–∞—Ç—ä–∫
–°–ª–µ–¥–≤–∞ –ª–æ–≥–∏—á–µ–Ω —Ä–µ–¥:
1Ô∏è‚É£ –ú–∏–Ω–∏–º–∞–ª–µ–Ω Dockerfile
2Ô∏è‚É£ –ú–∏–Ω–∏–º–∞–ª–µ–Ω dovecot.conf
3Ô∏è‚É£ fetchmail multi-account
4Ô∏è‚É£ –ü—ä—Ä–≤–æ –ø–∏—Å–º–æ end-to-end
5Ô∏è‚É£ –ü–æ—Å–ª–µ push –ª–æ–≥–∏–∫–∞
üëâ –ö–∞–∂–∏ –º–∏:

–∏—Å–∫–∞—à –ª–∏ —Å–ª–µ–¥–≤–∞—â–æ—Ç–æ –¥–∞ –µ 1Ô∏è‚É£ Dockerfile + entrypoint
–∏–ª–∏ –∏—Å–∫–∞—à –ø—ä—Ä–≤–æ —Å—Ö–µ–º–∞ —Å diagram (ASCII)
–∏–ª–∏ –Ω–∞–π-–º–∞–ª–∫–∏—è –≤—ä–∑–º–æ–∂–µ–Ω working setup
–¢–∏ –º–∏—Å–ª–∏—à –ø—Ä–∞–≤–∏–ª–Ω–æ ‚Äî —Ç–æ–≤–∞ —â–µ —Å—Ç–∞–Ω–µ –º–Ω–æ–≥–æ —á–∏—Å—Ç–∞ —Å–∏—Å—Ç–µ–º–∞.